<% content_for :title, t(".title") %>

<div class="mb-3 d-flex gap-2">
  <%= link_to t("categorias.new.title"), new_categoria_path, class: "botao botao--sucesso" %>
  <%= link_to t("back"), filmes_path, class: "botao botao--secundario" %>
</div>

<div class="tabela--resposive" data-controller="confirmacao-excluir">
  <table class="tabela">
    <thead>
    <tr>
      <th><%= t("name") %></th>
      <th><%= t("actions") %></th>
    </tr>
    </thead>
    <tbody>
    <% @categorias.each do |categoria| %>
      <tr>
        <td><%= categoria.nome %></td>
        <td class="tabela__acoes">
          <%= link_to t("edit"), edit_categoria_path(categoria), class: "botao botao--secundario botao--pequeno" %>
          <%= button_tag t("delete"),
                         type: "button",
                         class: "botao botao--perigo botao--pequeno",
                         data: {
                           action: "click->confirmacao-excluir#ask",
                           url: categoria_path(categoria),
                           i18n_title: t(".confirm_delete.title"),
                           i18n_text: t(".confirm_delete.text", category_name: categoria.nome),
                           i18n_confirm: t(".confirm_delete.confirm"),
                           i18n_cancel: t(".confirm_delete.cancel")
                         } %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>